<form  [formGroup]="organizationForm"  *ngIf="organizationForm">
  <div class="mx-auto col-lg-6 col-md-8 mt-3 p-4 border border-primary rounded" >
    <h2>Save organization</h2>


    <div class="d-flex flex-column">
      <label for="name" >*Name</label>
      <input type="text" id="name"  class="form-control" formControlName="name" >
    </div>
    <div class="alert alert-danger" *ngIf="hasErrors('name')||!checkName()">
      <span *ngIf="hasErrors('name','required')" >
        <small>This field is required</small>
      </span>
      <span *ngIf="hasErrors('name','minlength')" >
        <small>Minimum length is 5 characters</small>
      </span>
      <span *ngIf="!checkName()" >
        <small>Name is taken.</small>
      </span>
    </div>

    <div class="d-flex flex-column">
      <label for="address" >Address</label>
      <input type="text" id="address"  class="form-control" formControlName="address" >
    </div>
    <div class="d-flex flex-column">
      <label for="phone" >Phone</label>
      <input type="text" id="phone"  class="form-control" formControlName="phone" >
    </div>
    <div class="d-flex flex-column">
      <label for="email" >Email</label>
      <input type="text" id="email"  class="form-control" formControlName="email" >
    </div>
    <div class="alert alert-danger" *ngIf="hasErrors('email')">
      <span *ngIf="hasErrors('email','email')" >
        <small>Pattern is example@example</small>
      </span>
    </div>
    <label for="organizationType">*Organization type</label>
    <select type="text" id="organizationType" class="form-select" formControlName="organizationType"  >
      <option *ngFor="let orgType of organizationTypes" [ngValue]="orgType" >
        {{orgType.value}}
      </option>
    </select>
    <div class="alert alert-danger" *ngIf="hasErrors('organizationType')">
      <span *ngIf="hasErrors('organizationType','required')" >
        <small>This field is required</small>
      </span>
    </div>
    <div class="d-flex flex-row-reverse mt-2">
      <button class="btn btn-outline-danger" (click)="onCancel()">Cancel</button>
      <button class="btn btn-outline-primary" [disabled]="organizationForm.invalid || !checkName()" (click)="save()">Save</button>
    </div>
  </div>

</form>
